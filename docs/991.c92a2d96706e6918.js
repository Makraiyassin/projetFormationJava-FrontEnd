"use strict";(self.webpackChunkprojetFrontEnd=self.webpackChunkprojetFrontEnd||[]).push([[991],{7991:(H,p,c)=>{c.r(p),c.d(p,{ProfileModule:()=>z});var u=c(6895),l=c(646),e=c(8256),a=c(3071);function _(o,r){if(1&o&&(e.TgZ(0,"a",10),e._uU(1," Mon omnitheque "),e.qZA()),2&o){const t=e.oxw(2);e.MGl("routerLink","/omnitheque/",t.user.omnitheque.id,"")}}function f(o,r){1&o&&(e.TgZ(0,"a",11),e._uU(1," Cr\xe9er mon omnitheque "),e.qZA())}function g(o,r){if(1&o&&(e.TgZ(0,"div",1)(1,"a",2)(2,"span",3),e._uU(3),e.qZA()(),e._UZ(4,"hr"),e.TgZ(5,"ul",4)(6,"li",5)(7,"a",6),e._uU(8," mon compte "),e.qZA()(),e.TgZ(9,"li",5)(10,"a",7),e._uU(11," mes emprunts "),e.qZA()(),e.TgZ(12,"li",5),e.YNc(13,_,2,1,"a",8),e.YNc(14,f,2,0,"a",9),e.qZA()()()),2&o){const t=e.oxw();e.xp6(3),e.hij("Bienvenue ",t.user.firstName," !"),e.xp6(10),e.Q6J("ngIf",t.user.omnitheque),e.xp6(1),e.Q6J("ngIf",!t.user.omnitheque)}}let h=(()=>{class o{constructor(t){this._userService=t}get user(){return this._user}ngOnInit(){this._userService.getUser().subscribe(t=>{this._user=t})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-side-bare-profile"]],decls:1,vars:1,consts:[["class","mySideBar  d-flex flex-column flex-shrink-0 p-3 text-bg-dark","style","width: 280px;",4,"ngIf"],[1,"mySideBar","d-flex","flex-column","flex-shrink-0","p-3","text-bg-dark",2,"width","280px"],[1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],[1,"fs-4"],[1,"nav","nav-pills","flex-column","mb-auto"],[1,"nav-item"],["aria-current","page","routerLinkActive","active","routerLink","compte",1,"nav-link","text-white"],["routerLinkActive","active","routerLink","borrows",1,"nav-link","text-white"],["class","nav-link text-white","aria-current","page",3,"routerLink",4,"ngIf"],["class","nav-link text-white","routerLinkActive","active","routerLink","omnitheque/create","aria-current","page",4,"ngIf"],["aria-current","page",1,"nav-link","text-white",3,"routerLink"],["routerLinkActive","active","routerLink","omnitheque/create","aria-current","page",1,"nav-link","text-white"]],template:function(t,i){1&t&&e.YNc(0,g,15,3,"div",0),2&t&&e.Q6J("ngIf",i.user)},dependencies:[u.O5,l.yS,l.Od],styles:[".mySideBar[_ngcontent-%COMP%]{height:100vh}"]}),o})(),v=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-lg-3","responsive-noDisplay"],[1,"margin-top-2","col-lg-9","col-md-12","mx-auto"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-side-bare-profile"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()())},dependencies:[l.lC,h],styles:["@media screen and (max-width: 1150px){.responsive-noDisplay[_ngcontent-%COMP%]{display:none}}"]}),o})();var n=c(433);function Z(o,r){if(1&o&&(e.TgZ(0,"a",23),e._uU(1,"mon omnitheque"),e.qZA()),2&o){const t=e.oxw(2);e.MGl("routerLink","/omnitheque/",t.user.omnitheque.id,"")}}function w(o,r){1&o&&(e.TgZ(0,"a",24),e._uU(1,"Cr\xe9er mon omnitheque"),e.qZA())}function x(o,r){1&o&&(e.TgZ(0,"button",25),e._uU(1,"Supprimer mon compte"),e.qZA())}function q(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.editPassword())}),e._uU(1,"Modifier mon mot de passe"),e.qZA()}}function C(o,r){1&o&&(e.TgZ(0,"div",34),e._uU(1,"les mot de pass ne correspondent pas"),e.qZA())}function b(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28),e._UZ(2,"input",29)(3,"input",30),e.YNc(4,C,2,0,"div",31),e.qZA(),e.TgZ(5,"div",32)(6,"button",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.cancelEditPassword())}),e._uU(7,"Annuler"),e.qZA()(),e.TgZ(8,"div",32)(9,"button",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.submitEditPassword())}),e._uU(10,"valider"),e.qZA()()()}if(2&o){const t=e.oxw(2);e.Q6J("formGroup",t.editPasswordForm),e.xp6(4),e.Q6J("ngIf",t.editPasswordForm.controls.confirmPassword.getError("noMatch"))}}function P(o,r){if(1&o&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.user.email," ")}}function A(o,r){1&o&&(e.TgZ(0,"div",35),e._UZ(1,"input",36),e.qZA())}function T(o,r){if(1&o&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.user.phone," ")}}function y(o,r){1&o&&(e.TgZ(0,"div",35),e._UZ(1,"input",37),e.qZA())}function I(o,r){if(1&o&&(e.TgZ(0,"div",1)(1,"div",18)(2,"h6",19),e._uU(3,"Address"),e.qZA()(),e.TgZ(4,"div",35),e._uU(5),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(5),e.HOy(" ",t.user.address.street," n\xb0",t.user.address.number,",",t.user.address.cp," ",t.user.address.city," ")}}function U(o,r){1&o&&(e.TgZ(0,"div")(1,"div",38)(2,"div",39)(3,"label",40),e._uU(4,"Addresse"),e.qZA(),e._UZ(5,"input",41),e.qZA(),e.TgZ(6,"div",42)(7,"label",43),e._uU(8," Num\xe9ro "),e.qZA(),e._UZ(9,"input",44),e.qZA(),e.TgZ(10,"div",45)(11,"label",46),e._uU(12,"Ville"),e.qZA(),e._UZ(13,"input",47),e.qZA(),e.TgZ(14,"div",48)(15,"label",49),e._uU(16,"CP"),e.qZA(),e._UZ(17,"input",50),e.qZA(),e.TgZ(18,"div",51)(19,"label",52),e._uU(20,"Pays"),e.qZA(),e.TgZ(21,"select",53)(22,"option",54),e._uU(23," Belgique "),e.qZA(),e.TgZ(24,"option",55),e._uU(25," France "),e.qZA()()()()())}function N(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",56)(1,"button",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.edit())}),e._uU(2,"Editer"),e.qZA()()}}function M(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",32)(2,"button",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.cancelEdit())}),e._uU(3,"Annuler"),e.qZA()(),e.TgZ(4,"div",32)(5,"button",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.submitEdit())}),e._uU(6,"valider"),e.qZA()()()}}function k(o,r){if(1&o&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"ul")(6,"li")(7,"a",6),e._uU(8," mon compte "),e.qZA()(),e.TgZ(9,"li")(10,"a",7),e._uU(11," mes emprunts "),e.qZA()(),e.TgZ(12,"li"),e.YNc(13,Z,2,1,"a",8),e.YNc(14,w,2,0,"a",9),e.qZA()()(),e.TgZ(15,"div",10),e._UZ(16,"img",11),e.TgZ(17,"div",12)(18,"h4"),e._uU(19),e.qZA(),e.YNc(20,x,2,0,"button",13),e.YNc(21,q,2,0,"button",14),e.YNc(22,b,11,2,"div",15),e.qZA()()()()(),e.TgZ(23,"div",16)(24,"div",17)(25,"div",4)(26,"div",1)(27,"div",18)(28,"h6",19),e._uU(29,"Email"),e.qZA()(),e.YNc(30,P,2,1,"div",20),e.YNc(31,A,2,0,"div",20),e.qZA(),e._UZ(32,"hr"),e.TgZ(33,"div",1)(34,"div",18)(35,"h6",19),e._uU(36,"Phone"),e.qZA()(),e.YNc(37,T,2,1,"div",20),e.YNc(38,y,2,0,"div",20),e.qZA(),e._UZ(39,"hr"),e.YNc(40,I,6,4,"div",0),e.YNc(41,U,26,0,"div",21),e._UZ(42,"hr"),e.TgZ(43,"div",1),e.YNc(44,N,3,0,"div",22),e.qZA(),e.YNc(45,M,7,0,"div",0),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(13),e.Q6J("ngIf",null!=t.user.omnitheque),e.xp6(1),e.Q6J("ngIf",null==t.user.omnitheque),e.xp6(5),e.AsE("",t.user.firstName," ",t.user.lastName," "),e.xp6(1),e.Q6J("ngIf",!t.editPasswordActive),e.xp6(1),e.Q6J("ngIf",!t.editPasswordActive),e.xp6(1),e.Q6J("ngIf",t.editPasswordActive),e.xp6(1),e.Q6J("formGroup",t.editForm),e.xp6(7),e.Q6J("ngIf",!t.editActive),e.xp6(1),e.Q6J("ngIf",t.editActive),e.xp6(6),e.Q6J("ngIf",!t.editActive),e.xp6(1),e.Q6J("ngIf",t.editActive),e.xp6(2),e.Q6J("ngIf",!t.editActive),e.xp6(1),e.Q6J("ngIf",t.editActive),e.xp6(3),e.Q6J("ngIf",!t.editActive),e.xp6(1),e.Q6J("ngIf",t.editActive)}}let m=(()=>{class o{constructor(t){this._userService=t,this.editActive=!1,this.editForm=new n.cw({address:new n.cw({street:new n.NI,number:new n.NI,cp:new n.NI,city:new n.NI,country:new n.NI}),email:new n.NI,phone:new n.NI}),this.editPasswordActive=!1,this.editPasswordForm=new n.cw({password:new n.NI("",[n.kI.required]),confirmPassword:new n.NI("",[n.kI.required])})}ngOnInit(){this._userService.getUser().subscribe(t=>{this.user=t,this.editForm.controls.email.patchValue(t.email),this.editForm.controls.phone.patchValue(t.phone),this.editForm.controls.address.controls.street.patchValue(t.address.street),this.editForm.controls.address.controls.number.patchValue(t.address.number),this.editForm.controls.address.controls.cp.patchValue(t.address.cp),this.editForm.controls.address.controls.city.patchValue(t.address.city),this.editForm.controls.address.controls.country.patchValue(t.address.country)})}edit(){this.editActive=!0}submitEdit(){this._userService.update(this.editForm.value).subscribe(t=>{this.user=t}),this.editActive=!1}cancelEdit(){this.editActive=!1}editPassword(){this.editPasswordActive=!0}submitEditPassword(){this.editPasswordForm.value.password!==this.editPasswordForm.value.confirmPassword?(this.editPasswordForm.controls.password.setValue(""),this.editPasswordForm.controls.confirmPassword.setValue(""),this.editPasswordForm.controls.confirmPassword.setErrors({noMatch:!0}),console.log(this.editPasswordForm.value)):(this.editPasswordActive=!1,this._userService.update(this.editPasswordForm.value).subscribe(t=>{console.log(t)}))}cancelEditPassword(){this.editPasswordActive=!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-infos-profile"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-md-10","mb-3","mt-3"],[1,"card"],[1,"card-body"],[1,"responsive-Display"],["routerLink","/profile/compte"],["routerLink","/profile/borrows"],[3,"routerLink",4,"ngIf"],["routerLink","omnitheque/create",4,"ngIf"],[1,"d-flex","flex-column","align-items-center","text-center"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSI-nYklUorHjNljDNAkeR3p3jiw8GnGHEwvw&usqp=CAU","alt","Admin","width","150",1,"rounded-circle"],[1,"mt-3"],["class","btn btn-outline-primary margin-right-2",4,"ngIf"],["class","btn btn-outline-primary",3,"click",4,"ngIf"],["class","row",3,"formGroup",4,"ngIf"],[1,"col-md-10",3,"formGroup"],[1,"card","mb-3"],[1,"col-sm-3"],[1,"mb-0"],["class","col-sm-9 text-secondary",4,"ngIf"],[4,"ngIf"],["class","col-sm-12",4,"ngIf"],[3,"routerLink"],["routerLink","omnitheque/create"],[1,"btn","btn-outline-primary","margin-right-2"],[1,"btn","btn-outline-primary",3,"click"],[1,"row",3,"formGroup"],[1,"mb-2"],["formControlName","password","type","password","id","password","placeholder","nouveau mot de pass",1,"form-control"],["formControlName","confirmPassword","type","password","id","confirmPassword","placeholder","confirmer mot de pass",1,"form-control"],["id","erreur_password","class","form-text text-danger",4,"ngIf"],[1,"col-sm-6"],[1,"btn","btn-primary",3,"click"],["id","erreur_password",1,"form-text","text-danger"],[1,"col-sm-9","text-secondary"],["formControlName","email","type","email","id","email",1,"form-control"],["formControlName","phone","type","text","id","phone",1,"form-control"],["id","address","formGroupName","address",1,"row","g-3"],[1,"col-9"],["for","street",1,"form-label"],["formControlName","street","type","text","id","street","placeholder","rue",1,"form-control"],[1,"col-3"],["for","number",1,"form-label"],["formControlName","number","type","text","id","number","placeholder","n\xb0",1,"form-control"],[1,"col-md-6"],["for","city",1,"form-label"],["formControlName","city","type","text","id","city",1,"form-control"],[1,"col-md-2"],["for","cp",1,"form-label"],["formControlName","cp","type","number","id","cp",1,"form-control"],[1,"col-md-4"],["for","country",1,"form-label"],["formControlName","country","id","country",1,"form-select"],["value","Belgique","selected",""],["value","France"],[1,"col-sm-12"]],template:function(t,i){1&t&&e.YNc(0,k,46,16,"div",0),2&t&&e.Q6J("ngIf",i.user)},dependencies:[u.O5,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,n.x0,l.yS],styles:[".responsive-Display[_ngcontent-%COMP%]{display:none}.responsive-Display[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.responsive-Display[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.responsive-Display[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.responsive-Display[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{font-weight:700;cursor:pointer}.margin-right-2[_ngcontent-%COMP%]{margin-right:2px}@media screen and (max-width: 1150px){.responsive-Display[_ngcontent-%COMP%]{display:contents}}"]}),o})();var O=c(1198);let J=(()=>{class o{constructor(t,i,s){this._userService=t,this._omnithequeService=i,this._router=s,this.addressForm=new n.cw({street:new n.NI("",[n.kI.required]),number:new n.NI("",[n.kI.required]),cp:new n.NI("",[n.kI.required]),city:new n.NI("",[n.kI.required]),country:new n.NI("",[n.kI.required])}),this.omnithequeForm=new n.cw({name:new n.NI("",[n.kI.required]),address:this.addressForm,phone:new n.NI("",[n.kI.required]),email:new n.NI("",[n.kI.required,n.kI.email]),image:new n.NI})}ngOnInit(){this._userService.getUser().subscribe(t=>{this.omnithequeForm.patchValue({phone:t.phone,email:t.email,image:"/assets/omnitheque.png"}),this.addressForm.patchValue({street:t.address.street,number:t.address.number.toString(),city:t.address.city,cp:t.address.cp.toString(),country:t.address.country})})}create(){this._omnithequeService.create(this.omnithequeForm.value).subscribe(t=>{this._router.navigate([`/omnitheque/${t.id}`])})}cloudinaryGo(){cloudinary.createUploadWidget({cloudName:"dsuyae7y8",uploadPreset:"omnitheque-preset"},(i,s)=>{!i&&s&&"success"===s.event&&this.omnithequeForm.patchValue({image:s.info.url})}).open(),console.log(this.omnithequeForm.value)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.K),e.Y36(O.u),e.Y36(l.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-omnitheque"]],decls:46,vars:3,consts:[[1,"text-center"],[1,"w-50","mx-auto",3,"formGroup"],[1,"container"],["id","upload_widget",1,"cloudinary-button",3,"click"],["height","100px","alt","image du produit",1,"p-2","m-2",3,"src"],[1,"mb-3"],["for","name",1,"form-label"],["formControlName","name","type","text","id","name",1,"form-control"],["id","address",1,"row","g-3",3,"formGroup"],[1,"col-9"],["for","street",1,"form-label"],["formControlName","street","type","text","id","street","placeholder","rue",1,"form-control"],[1,"col-3"],["for","number",1,"form-label"],["formControlName","number","type","number","id","number","placeholder","n\xb0",1,"form-control"],[1,"col-md-6"],["for","city",1,"form-label"],["formControlName","city","type","text","id","city",1,"form-control"],[1,"col-md-2"],["for","cp",1,"form-label"],["formControlName","cp","type","number","id","cp",1,"form-control"],[1,"col-md-4"],["for","country",1,"form-label"],["formControlName","country","id","country",1,"form-select"],["value","Belgique","selected",""],["value","France"],["for","phone",1,"form-label"],["formControlName","phone","type","text","id","phone",1,"form-control"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Cr\xe9er mon omnith\xe8que"),e.qZA(),e.TgZ(2,"form",1)(3,"div",2)(4,"button",3),e.NdJ("click",function(){return i.cloudinaryGo()}),e._uU(5,"choisir une image"),e.qZA(),e._UZ(6,"img",4),e.qZA(),e.TgZ(7,"div",5)(8,"label",6),e._uU(9,"nom de l'omnith\xe8que"),e.qZA(),e._UZ(10,"input",7),e.qZA(),e.TgZ(11,"div",8)(12,"div",9)(13,"label",10),e._uU(14,"Addresse"),e.qZA(),e._UZ(15,"input",11),e.qZA(),e.TgZ(16,"div",12)(17,"label",13),e._uU(18," Num\xe9ro "),e.qZA(),e._UZ(19,"input",14),e.qZA(),e.TgZ(20,"div",15)(21,"label",16),e._uU(22,"Ville"),e.qZA(),e._UZ(23,"input",17),e.qZA(),e.TgZ(24,"div",18)(25,"label",19),e._uU(26,"CP"),e.qZA(),e._UZ(27,"input",20),e.qZA(),e.TgZ(28,"div",21)(29,"label",22),e._uU(30,"Pays"),e.qZA(),e.TgZ(31,"select",23)(32,"option",24),e._uU(33," Belgique "),e.qZA(),e.TgZ(34,"option",25),e._uU(35," France "),e.qZA()()()(),e.TgZ(36,"div",5)(37,"label",26),e._uU(38,"numero de t\xe9l\xe9phone de l'omnitheque"),e.qZA(),e._UZ(39,"input",27),e.qZA(),e.TgZ(40,"div",5)(41,"label",28),e._uU(42,"Email de l'omnitheque"),e.qZA(),e._UZ(43,"input",29),e.qZA(),e.TgZ(44,"button",30),e.NdJ("click",function(){return i.create()}),e._uU(45,"cr\xe9er"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.omnithequeForm),e.xp6(4),e.Q6J("src",i.omnithequeForm.value.image,e.LSH),e.xp6(5),e.Q6J("formGroup",i.addressForm))},dependencies:[n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u]}),o})();var F=c(6082),S=c(9837);function L(o,r){if(1&o&&(e.TgZ(0,"a",6),e._uU(1,"mon omnitheque"),e.qZA()),2&o){const t=e.oxw();e.MGl("routerLink","/omnitheque/",t.user.omnitheque.id,"")}}function B(o,r){1&o&&(e.TgZ(0,"a",7),e._uU(1,"Cr\xe9er mon omnitheque"),e.qZA())}function E(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"th",16),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.TgZ(9,"a",6),e._uU(10,"\u{1f50d}"),e.qZA()(),e.TgZ(11,"td")(12,"button",17),e._uU(13,"demande de prolongation"),e.qZA()()()),2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.startBorrow),e.xp6(2),e.Oqu(t.endBorrow),e.xp6(2),e.hij("",t.product?t.product.name:t.productId," "),e.xp6(1),e.MGl("routerLink","product/",t.productId,"")}}function Y(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"table",8)(2,"thead")(3,"tr")(4,"th",9),e._uU(5,"id "),e.qZA(),e.TgZ(6,"th",9),e._uU(7,"start "),e.qZA(),e.TgZ(8,"th",9),e._uU(9,"end "),e.qZA(),e.TgZ(10,"th",9),e._uU(11,"produit "),e.qZA(),e._UZ(12,"th",9),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,E,14,5,"tr",10),e.qZA()(),e.TgZ(15,"div",11)(16,"ngb-pagination",12),e.NdJ("pageChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.page=s)})("pageChange",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.refreshBorrows())}),e.qZA(),e.TgZ(17,"select",13),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw(2);return e.KtG(d.pageSize=s)})("ngModelChange",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.refreshBorrows())}),e.TgZ(18,"option",14),e._uU(19,"5 produits par page"),e.qZA(),e.TgZ(20,"option",15),e._uU(21,"10 produits par page"),e.qZA(),e.TgZ(22,"option",15),e._uU(23,"20 produits par page"),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(14),e.Q6J("ngForOf",t.borrows),e.xp6(2),e.Q6J("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize),e.xp6(1),e.Q6J("ngModel",t.pageSize),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20)}}function Q(o,r){1&o&&(e.TgZ(0,"h2"),e._uU(1,"liste de produits est vide"),e.qZA())}function G(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Y,24,8,"div",5),e.YNc(2,Q,2,0,"h2",5),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.borrows.length>0),e.xp6(1),e.Q6J("ngIf",t.borrows.length<1)}}const K=[{path:"",component:v,children:[{path:"",component:m},{path:"compte",component:m},{path:"omnitheque/create",component:J},{path:"borrows",component:(()=>{class o{constructor(t,i){this._userService=t,this._productService=i,this.page=1,this.pageSize=5}ngOnInit(){this._userService.getUser().subscribe(t=>{this.user=t,this.borrows=t.borrowList.filter(i=>!i.returned),this.borrows.map(i=>this._productService.getOne(i.productId).subscribe(s=>i.product=s)),this.collectionSize=this.borrows.length,this.refreshBorrows()})}refreshBorrows(){this.borrows=this.user.borrowList.filter(t=>!t.returned).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.K),e.Y36(F.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-borrow-user"]],decls:12,vars:3,consts:[[1,"responsive-Display"],["routerLink","/profile/compte"],["routerLink","/profile/borrows"],[3,"routerLink",4,"ngIf"],["routerLink","/profile/omnitheque/create",4,"ngIf"],[4,"ngIf"],[3,"routerLink"],["routerLink","/profile/omnitheque/create"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],[1,"form-select",2,"width","auto",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],[3,"ngValue"],["scope","row"],[1,"btn","btn-primary"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"ul")(2,"li")(3,"a",1),e._uU(4,"mon compte"),e.qZA()(),e.TgZ(5,"li")(6,"a",2),e._uU(7,"mes emprunts"),e.qZA()(),e.TgZ(8,"li"),e.YNc(9,L,2,1,"a",3),e.YNc(10,B,2,0,"a",4),e.qZA()()(),e.YNc(11,G,3,2,"div",5)),2&t&&(e.xp6(9),e.Q6J("ngIf",null!=(null==i.user?null:i.user.omnitheque)),e.xp6(1),e.Q6J("ngIf",null==(null==i.user?null:i.user.omnitheque)),e.xp6(1),e.Q6J("ngIf",i.borrows))},dependencies:[u.sg,u.O5,S.N9,n.YN,n.Kr,n.EJ,n.JJ,n.On,l.yS],styles:[".responsive-Display[_ngcontent-%COMP%]{display:none}.responsive-Display[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.responsive-Display[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.responsive-Display[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.responsive-Display[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{font-weight:700;cursor:pointer}.margin-right-2[_ngcontent-%COMP%]{margin-right:2px}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 1150px){.responsive-Display[_ngcontent-%COMP%]{display:contents}}"]}),o})()},{path:"borrows/product/:id",component:c(4245).F}]}];let j=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(K),l.Bz]}),o})(),z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,j]}),o})()}}]);